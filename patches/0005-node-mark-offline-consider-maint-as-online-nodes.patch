From: RÃ©mi Palancher <remi-externe.palancher@edf.fr>
Date: Thu, 23 Dec 2021 16:14:12 +0100
Subject: node-mark-offline: consider maint as online nodes

The node-mark-offline consider the node in a Slurm maintenance
reservation as being already offline and ignore these nodes. We want
these nodes to be checked by NHC during a maintenance.
---
 helpers/node-mark-offline | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/helpers/node-mark-offline b/helpers/node-mark-offline
index 45626c0..311b368 100644
--- a/helpers/node-mark-offline
+++ b/helpers/node-mark-offline
@@ -65,7 +65,7 @@ elif [[ "$NHC_RM" == "slurm" ]]; then
     case "$STATUS" in
         alloc*|comp*|drain*|drng*|fail*|idle*|maint*|mix*|resume*|undrain*)
             case "$STATUS" in
-                drain*|drng*|fail*|maint*)
+                drain*|drng*|fail*)
                     # If the node is already offline, and there is no old note, and
                     # we've not been told to ignore that, do not touch the node.
                     if [[ "$OLD_NOTE_LEADER" == "none" && "$IGNORE_EMPTY_NOTE" != "1" ]]; then
